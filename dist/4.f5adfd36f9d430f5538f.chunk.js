webpackJsonp([4],{207:function(t,e,n){"use strict";n(198);var r=angular.module("generatorsModule",[n(18),n(199),"uiSwitch",n(200),n(201),n(202),n(197),n(203),n(204),n(270)]);r.component("generatorList",n(272)).component("generatorCreate",n(276)).component("generatorForm",n(279)).component("generatorDetail",n(283)).component("generatorDashboard",n(286)),t.exports=r.name},270:function(t,e,n){"use strict";var r=angular.module("Todos",[]);r.factory("Todos",n(271)),t.exports=r.name},271:function(t,e,n){"use strict";t.exports=function(t){return{get:function(){return t.get("/api/todos")},getById:function(e){return t.get("/api/todos/"+e)},create:function(e){return t.post("/api/todos",e)},edit:function(e){return t.put("/api/todos/"+e,JSON.stringify(e))},delete:function(e){return t.delete("/api/todos/"+e)}}},t.exports.$inject=["$http"]},272:function(t,e,n){"use strict";t.exports={template:n(273),controller:n(274)}},273:function(t,e){t.exports='<section class="content__grid content__grid--full">\r\n        <ndd-kendo-grid id="generatorsGrid"\r\n                        kendo-grid-options="$ctrl.kendoGridOptions" \r\n                        kendo-grid-options-header="$ctrl.gridHeaderOptions"\r\n                        kendo-grid-options-filter="$ctrl.gridFilterOptions"></ndd-kendo-grid>\r\n    </section>\r\n\x3c!--<div class="container" >\r\n        <div class="jumbotron text-center">\r\n        <h1>A fazer <span class="label label-info">{{ todos.length }}</span></h1>\r\n    </div>\r\n\r\n    <div id="todo-list" class="row">\r\n        <div class="col-sm-4 col-sm-offset-4">\r\n\r\n            <div class="checkbox" ng-repeat="todo in todos">\r\n                <label>\r\n                    <button type="button" class="btn btn-light" ng-click="deleteTodo(todo._id)"><b> X </b> {{ todo.text }}</button>                        \r\n                </label>\r\n            </div>\r\n\r\n            <p class="text-center" ng-show="loading">\r\n                <span class="fa fa-spinner fa-spin fa-3x"></span>\r\n            </p>\r\n\r\n        </div>\r\n    </div>\r\n\r\n     <div id="todo-form" class="row">\r\n        <div class="col-sm-8 col-sm-offset-2 text-center">\r\n            <form>\r\n                <div class="form-group">\r\n                    <input type="text" class="form-control input-lg text-center" placeholder="Registrar Bugs" ng-model="formData.text">\r\n                </div>\r\n                <button type="submit" class="btn btn-primary btn-lg" ng-click="createTodo()">Adicionar</button>\r\n            </form>\r\n        </div>\r\n    </div> \r\n\r\n</div>--\x3e\r\n'},274:function(t,e,n){"use strict";(function(e){t.exports=function(t,r,o,i,a){function s(t){o.go("app.generators.detail.dashboard",{id:t._id})}function d(){o.go("app.generators.register")}function c(t){o.go("app.generators.detail.dashboard",{id:t[0]._id})}function l(t){a.showDialog({title:"Confirmar Exclusão",messageText:"Deseja realmente excluir ? Essa ação não pode ser desfeita.",buttonConfirmText:"Confirmar",buttonCancelText:"Cancelar"},function(){g(t)})}function g(t){kendo.ui.progress(f,!0),r.delete(t[0]._id).then(function(e){t.splice(0,1),t.length>0?g(t):(kendo.ui.progress(f,!1),i.reload("generatorsGrid"))},u)}function u(){alert("Erro ao excluir !!"),kendo.ui.progress(f,!1)}var f,p=this,m=new window.kendo.data.DataSource({transport:{read:{url:"http://localhost:8080/api/todos",type:"get",dataType:"json"}},schema:{data:"",total:"count",aggregates:"aggregates",model:{Id:"_id",fields:{Id:{type:"string"},Text:{type:"string"}}}},pageSize:10,allowUnsort:!0,serverPaging:!0,serverFiltering:!0,serverSorting:!0});this.$onInit=function(){f=e("#generatorsGrid #grid"),p.kendoGridOptions={dataSource:m,selectable:"multiple, row",checkbox:!0,onDbRowClick:function(t){s(t)},pageable:{refresh:!0,pageSizes:!0,buttonCount:5,messages:{display:"Exibindo {0}-{1} from {2} itens",itemsPerPage:"Itens por página",empty:"Não há itens para exibir",allPages:"Todos"}},resizable:!0,columns:[{field:"_id",title:"Id",width:60},{field:"text",title:"Text",template:'<a class="ndd-kendo-grid__link" ng-click="$parent.$parent.$ctrl.open#:_id#">#:text#</a>'}]},p.gridFilterOptions={advanced:{columns:n(275)},searchbar:{textSearchbar:"Pesquisar",iconSearchbar:"fa fa-search",filter:[{prop:"name",field:"name",operator:"contains"}]}},p.gridHeaderOptions={options:[{text:"Novo",icon:"fa fa-plus",action:d,hideNavMobile:!0},{text:"Excluir",icon:"fa fa-remove",action:l,needSelectRow:!0},{text:"Abrir",icon:"fa fa-expand",action:c,needSelectRow:!0,needUniqueRow:!0}],responsive:{medium:{textAction:"Ações",textIcon:"fa fa-check"},optionsIcon:"ndd ndd-ellipses"}}},this.open=function(t){o.go("app.generators.detail.dashboard",{id:t})}},t.exports.$inject=["$scope","Todos","$state","nddKendoGridApiService","nddConfirmDialogService"]}).call(e,n(2))},275:function(t,e,n){"use strict";t.exports=[{description:"Texto",value:"text",type:"string",sensitive:!1}]},276:function(t,e,n){"use strict";t.exports={template:n(277),controller:n(278)}},277:function(t,e,n){t.exports='<div class="ndd-entity-editor__header">\r\n    <titlebar titlebar-title="$ctrl.title" titlebar-icon="\'fa fa-user\'">\r\n        <titlebar-info>\r\n            <titlebar-info-item titlebar-info-text="$ctrl.subtitle"></titlebar-info-item>\r\n        </titlebar-info>\r\n    </titlebar>\r\n</div>\r\n<div class="ndd-entity-editor__content">\r\n    <img ng-if="$ctrl.isLoading" class="form-utils__spinner" src="'+n(196)+'" alt="">        \r\n    <div class="ndd-entity-editor__form-content">\r\n        <div class="row">\r\n            <div class="col-sm-6">\r\n                <generator-form get-data="$ctrl.formGetData" get-form="$ctrl.getForm"></generator-form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="ndd-entity-editor__form-footer">\r\n        <button ng-click="$ctrl.save()" class="ndd-button ndd-button--highlighted" type="button">Salvar</button>\r\n        <button ng-click="$ctrl.cancel()" class="ndd-button" type="button">Cancelar</button>\r\n    </div>\r\n</div>'},278:function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){var i=this;this.$onInit=function(){i.title="Cadastrar Agente",i.subtitle="Preencha os campos abaixo para para cadastrar um novo Agente"},this.cancel=function(){e.go("app.generators.list")},this.save=function(){var a=i.getForm();if(a.$invalid)return o.setDirty(a),void o.setTouched(a);var s=i.formGetData();i.isLoading=!0,n.create(s).then(function(n){var o=n.data;t.todos=o,i.isLoading=!1,r.showDialog({title:"Agente foi cadastrado.",messageText:"Agente "+s.text+" cadastrado (a) com sucesso.",buttonConfirmText:"Ir para Agentes.",hideCancel:!0,showClose:!1,closeByDocument:!1,closeByEscape:!1},function(){e.go("app.generators.list")})},function(){i.isLoading=!1})}},t.exports.$inject=["$scope","$state","Todos","nddConfirmDialogService","formUtilsService"]},279:function(t,e,n){"use strict";t.exports={template:n(280),controller:n(281),bindings:{generator:"<",getData:"=?",getForm:"=?"}}},280:function(t,e){t.exports='<form name="formGenerators" class="form" novalidate>\r\n    <label class="form__label-description">Tarefa</label>    \r\n    <input type="text" name="text" class="form__field" placeholder="Registrar Bugs" required ng-model="$ctrl.generator.text"\r\n        autocomplete="off" ng-class="{\'form__field--invalid\': formGenerators.text.$invalid && formGenerators.text.$dirty}">   \r\n    <div ng-messages="formGenerators.todo.$error" role="alert">\r\n        <div class="form__message form__message--error" ng-show="formGenerators.text.$dirty" ng-message="required">É preciso um nome para o Agente</div>\r\n    </div>\r\n</form>'},281:function(t,e,n){"use strict";t.exports=function(t){var e=this,r=n(282);e.$onInit=function(){e.generator=new r,e.getData=function(){return e.generator},e.getForm=function(){return t.formGenerators}},this.$onChanges=function(t){t.generator&&t.generator.currentValue&&(e.generator=angular.copy(t.generator.currentValue))}},t.exports.$inject=["$scope"]},282:function(t,e,n){"use strict";t.exports=function(){this._id="",this.text=""}},283:function(t,e,n){"use strict";t.exports={template:n(284),controller:n(285)}},284:function(t,e){t.exports='<div class="ndd-entity-editor__header">\r\n    <titlebar titlebar-title="$ctrl.generator.name" titlebar-icon="\'fa fa-user\'">\r\n        <titlebar-info>\r\n            <titlebar-info-item titlebar-info-text="$ctrl.generator.email" titlebar-info-icon="\'fa fa-envelope-o\'"> </titlebar-action-item>\r\n        </titlebar-info>\r\n        <titlebar-action>\r\n            <titlebar-action-item titlebar-action-text="\'Excluir\'" ng-click="$ctrl.remove()"  titlebar-action-icon="\'fa fa-trash\'"></titlebar-action-item>\r\n            <titlebar-action-item ui-sref="app.generators.list" titlebar-action-icon="\'fa fa-close\'"></titlebar-action-item>        \r\n        </titlebar-action>\r\n    </titlebar>\r\n    <tabs-bar options="$ctrl.tabOptions"></tabs-bar>\r\n</div>\r\n<div class="ndd-entity-editor__content">\r\n    <ui-view></ui-view>\r\n</div>'},285:function(t,e,n){"use strict";t.exports=function(t,e,n,r,o,i,a){function s(){l.isLoading=!0,r.delete(l.generator.id).then(function(t){a.showDialog({title:"Operação realizada",messageText:"Cliente excluído com sucesso !",buttonConfirmText:"OK",hideCancel:!0},function(){n.go("app.generators.list")})},function(){l.isLoading=!1,i.show({title:"Operação não realizada",messageText:"Erro ao realizar operação",buttonOk:"OK"})})}function d(){r.getById(e.id).then(c)}function c(n){l.generator=n;var r={text:n.name,sref:"app.generators.detail.dashboard",params:{id:e.id}};l.api={generator:n,refresh:d},o.setOptions(t,"app.generators",r)}var l=this;l.tabOptions=[{state:"app.generators.detail.dashboard",text:"Dados Cadastrais"}],l.$onInit=function(){d()},this.redirectToDash=function(){n.go("app.generators.detail.dashboard",{id:e.id,edit:!0})},this.remove=function(){a.showDialog({title:"Confirmação de Exclusão",messageText:"Deseja realmente excluir ? Essa operação não pode ser desfeita.",buttonConfirmText:"Remover",buttonCancelText:"Cancelar"},s)}},t.exports.$inject=["$scope","$stateParams","$state","Todos","breadcrumbService","nddAlert","nddConfirmDialogService"]},286:function(t,e,n){"use strict";t.exports={template:n(287),controller:n(288),bindings:{api:"<"}}},287:function(t,e,n){t.exports='<div class="ndd-entity-editor__form-content">\r\n    <div class="row" ng-if="!$ctrl.isEditing && !$ctrl.isLoading">\r\n        <div class="col-sm-6">\r\n            <h4 class="ndd-entity-editor__form-title">DADOS</h4>\r\n            <div class="col-sm-12 ndd-entity-editor__form-group">\r\n                <span class="ndd-entity-editor__form-label">Texto</span>\r\n                <br>\r\n                <span class="ndd-entity-editor__form-data" ng-bind="$ctrl.generator.text"></span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="$ctrl.isEditing && !$ctrl.isLoading">\r\n        <div class="col-sm-6">\r\n            <generator-form generator="$ctrl.generator" get-data="$ctrl.formGetData" get-form="$ctrl.getForm"></generator-form>\r\n        </div>\r\n    </div>\r\n    <img ng-if="$ctrl.isLoading" class="form-utils__spinner" src="'+n(196)+'" alt="">\r\n</div>\r\n<div class="ndd-entity-editor__form-footer">\r\n    <button ng-if="$ctrl.isEditing" ng-click="$ctrl.save()" class="ndd-button ndd-button--highlighted" type="button">Salvar</button>\r\n    <button ng-if="!$ctrl.isEditing" ng-click="$ctrl.edit()" class="ndd-button ndd-button--highlighted" type="button">Editar</button>\r\n    <button ng-click="$ctrl.cancel()" class="ndd-button" type="button">Cancelar</button>\r\n</div>'},288:function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){function i(){a.isLoading=!1,o.show({title:"Operação não realizada",messageText:"Erro ao realizar operação",buttonOk:"OK"})}var a=this;a.isLoading=!0,this.$onChanges=function(t){t.api&&t.api.currentValue&&(a.isLoading=!1,a.api=angular.copy(a.api),a.generator=a.api.generator)},this.edit=function(){a.isEditing=!0},this.cancel=function(){a.isEditing?a.isEditing=!1:e.go("app.generators.list")},this.save=function(){var t=a.getForm();if(t.$invalid)return r.setDirty(t),void r.setTouched(t);var e=a.formGetData();a.isLoading=!0,n.edit(e).then(function(){a.isLoading=!0,a.isEditing=!1,r.setPristine(t),a.api.refresh()},i)}},t.exports.$inject=["$scope","$state","Todos","formUtilsService","nddAlert"]}});