webpackJsonp([3],{207:function(e,t,r){"use strict";r(198);var n=angular.module("massGeneratorModule",[r(18),r(199),"uiSwitch",r(200),r(201),r(202),r(197),r(203),r(204),r(271)]);n.component("massGeneratorList",r(273)).component("massGeneratorCreate",r(277)).component("massGeneratorForm",r(280)).component("massGeneratorDetail",r(283)).component("massGeneratorDashboard",r(286)),e.exports=n.name},216:function(e,t,r){"use strict";e.exports=function(){this.id=0,this.name="",this.email="",this.isActivated=!0,this.fiscalType="",this.ficalCode=0}},217:function(e,t,r){"use strict";e.exports=[{value:"Individual",description:"Individual"},{value:"Empresarial",description:"Empresarial"}]},271:function(e,t,r){"use strict";var n=angular.module("massGenerator",[r(39),r(19)]);n.factory("massGeneratorService",r(272)),e.exports=n.name},272:function(e,t,r){"use strict";e.exports=function(e,t,r){return{getAllmassGenerator:function(r){return t.get(e.apiUrl+"massGenerator"+query).then(function(e){return e.data.items})},getById:function(r){return t.get(e.apiUrl+"massGenerator/"+r).then(function(e){return e.data})},addmassGenerator:function(r){return t.post(e.apiUrl+"massGenerator",r).then(function(e){return e.status})},removemassGenerator:function(r){return t.delete(e.apiUrl+"massGenerator/"+r).then(function(e){return e.status})},editmassGenerator:function(r){return t.put(e.apiUrl+"massGenerator",JSON.stringify(r)).then(function(e){return e.status})}}},e.exports.$inject=["appConfig","$http","nddQueryGeneratorFactory"]},273:function(e,t,r){"use strict";e.exports={template:r(274),controller:r(275)}},274:function(e,t){e.exports='<section class="content__grid content__grid--full">\r\n    <ndd-kendo-grid id="massGeneratorGrid"\r\n                    kendo-grid-options="$ctrl.kendoGridOptions" \r\n                    kendo-grid-options-header="$ctrl.gridHeaderOptions"\r\n                    kendo-grid-options-filter="$ctrl.gridFilterOptions"></ndd-kendo-grid>\r\n</section>\r\n'},275:function(e,t,r){"use strict";(function(t){e.exports=function(e,n,a,i,s){function o(){n.go("app.massGenerator.register")}function l(e){n.go("app.massGenerator.detail.dashboard",{id:e[0].id})}function d(e){i.showDialog({title:"Confirmar Exclusão",messageText:"Deseja realmente excluir ? Essa ação não pode ser desfeita.",buttonConfirmText:"Confirmar",buttonCancelText:"Cancelar"},function(){c(e)})}function c(t){kendo.ui.progress(f,!0),e.removemassGenerator(t[0].id).then(function(e){t.splice(0,1),t.length>0?c(t):(kendo.ui.progress(f,!1),a.reload("massGeneratorGrid"))},m)}function m(){alert("Erro ao excluir !!"),kendo.ui.progress(f,!1)}var f,p=this,u=new window.kendo.data.DataSource({type:"odata-v4",transport:{read:{url:s.apiUrl+"massGenerator"}},schema:{data:"items",total:"count",aggregates:"aggregates",model:{Id:"id",fields:{Id:{type:"number"},Name:{type:"string"},Email:{type:"string"},FicalCode:{type:"string"},Status:{type:"string"},TypeFical:{type:"string"}}}},pageSize:10,allowUnsort:!0,serverPaging:!0,serverFiltering:!0,serverSorting:!0});this.$onInit=function(){f=t("#massGeneratorGrid #grid"),p.kendoGridOptions={dataSource:u,selectable:"multiple, row",checkbox:!0,pageable:{refresh:!0,pageSizes:!0,buttonCount:5,messages:{display:"Exibindo {0}-{1} from {2} itens",itemsPerPage:"Itens por página",empty:"Não há itens para exibir",allPages:"Todos"}},resizable:!0,columns:[{field:"id",title:"Id",width:60},{field:"name",title:"Nome",template:'<a class="ndd-kendo-grid__link" ng-click="$parent.$parent.$ctrl.open(#:id#)">#:name#</a>'},{field:"fiscalCode",title:"Código Fiscal"},{field:"email",title:"E-mail"},{field:"fiscalType",title:"Tipo Fical"},{field:"isActivated",title:"Status",template:'<span>#:isActivated ? "Ativo": "Desativado"#</span>'}]},p.gridFilterOptions={advanced:{columns:r(276)},searchbar:{textSearchbar:"Pesquisar",iconSearchbar:"fa fa-search",filter:[{prop:"name",field:"name",operator:"contains"}]}},p.gridHeaderOptions={options:[{text:"Novo",icon:"fa fa-plus",action:o,hideNavMobile:!0},{text:"Excluir",icon:"fa fa-remove",action:d,needSelectRow:!0},{text:"Abrir",icon:"fa fa-expand",action:l,needSelectRow:!0,needUniqueRow:!0}],responsive:{medium:{textAction:"Ações",textIcon:"fa fa-check"},optionsIcon:"ndd ndd-ellipses"}}},this.open=function(e){n.go("app.massGenerator.detail.dashboard",{id:e})}},e.exports.$inject=["massGeneratorService","$state","nddKendoGridApiService","nddConfirmDialogService","appConfig"]}).call(t,r(2))},276:function(e,t,r){"use strict";e.exports=[{description:"Nome",value:"name",type:"string",sensitive:!1},{description:"E-mail",value:"email",type:"string"},{description:"Código Fiscal",value:"fiscalCode",type:"int"},{description:"Status",value:"isActivated",type:"bool"},{description:"Tipo",value:"ficalType",type:"string"}]},277:function(e,t,r){"use strict";e.exports={template:r(278),controller:r(279)}},278:function(e,t,r){e.exports='<div class="ndd-entity-editor__header">\r\n    <titlebar titlebar-title="$ctrl.title" titlebar-icon="\'fa fa-user\'">\r\n        <titlebar-info>\r\n            <titlebar-info-item titlebar-info-text="$ctrl.subtitle"></titlebar-info-item>\r\n        </titlebar-info>\r\n    </titlebar>\r\n</div>\r\n<div class="ndd-entity-editor__content">\r\n    <img ng-if="$ctrl.isLoading" class="form-utils__spinner" src="'+r(196)+'" alt="">        \r\n    <div class="ndd-entity-editor__form-content">\r\n        <div class="row">\r\n            <div class="col-sm-6">\r\n                <massGenerator-form get-data="$ctrl.formGetData" get-form="$ctrl.getForm"></massGenerator-form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="ndd-entity-editor__form-footer">\r\n        <button ng-click="$ctrl.save()" class="ndd-button ndd-button--highlighted" type="button">Salvar</button>\r\n        <button ng-click="$ctrl.cancel()" class="ndd-button" type="button">Cancelar</button>\r\n    </div>\r\n</div>'},279:function(e,t,r){"use strict";e.exports=function(e,t,n,a,i){var s=this;r(216);this.$onInit=function(){s.title="Cadastrar Gerador de Massa",s.subtitle="Preencha os campos abaixo para para cadastrar um novo Gerador de Massa"},this.cancel=function(){t.go("app.massGenerator.list")},this.save=function(){var e=s.getForm();if(e.$invalid)return i.setDirty(e),void i.setTouched(e);var r=s.formGetData();s.isLoading=!0,n.addmassGenerator(r).then(function(){s.isLoading=!1,a.showDialog({title:"Gerador de Massa foi cadastrado.",messageText:"Gerador de Massa "+r.name+" cadastrado (a) com sucesso.",buttonConfirmText:"Ir para Gerador de Massas.",hideCancel:!0,showClose:!1,closeByDocument:!1,closeByEscape:!1},function(){t.go("app.massGenerator.list")})},function(){s.isLoading=!1})}},e.exports.$inject=["$scope","$state","massGeneratorService","nddConfirmDialogService","formUtilsService"]},280:function(e,t,r){"use strict";e.exports={template:r(281),controller:r(282),bindings:{massGenerator:"<",getData:"=?",getForm:"=?"}}},281:function(e,t){e.exports='<form name="formmassGenerator" class="form" novalidate>\r\n    <label class="form__label-description">Nome</label>\r\n    <input type="text" name="name" ng-model="$ctrl.massGenerator.name" class="form__field" required placeholder="Nome do cliente"\r\n        autocomplete="off" ng-class="{\'form__field--invalid\': formmassGenerator.name.$invalid && formmassGenerator.name.$dirty}">\r\n    <br>\r\n    <div ng-messages="formmassGenerator.name.$error" role="alert">\r\n        <div class="form__message form__message--error" ng-show="formmassGenerator.name.$dirty" ng-message="required">É preciso um nome para o cliente</div>\r\n    </div>\r\n    <br>\r\n    <label class="form__label-description">Código Fiscal</label>\r\n    <input type="number" name="fiscalCode" ng-model="$ctrl.massGenerator.fiscalCode" required class="form__field" placeholder="Código Fiscal"\r\n        autocomplete="off" ng-class="{\'form__field--invalid\': formmassGenerator.fiscalCode.$invalid && !formmassGenerator.email.$pristine && formmassGenerator.fiscalCode.$touched}"><br>\r\n    <div ng-messages="formmassGenerator.fiscalCode.$error" role="alert">\r\n        <div class="form__message form__message--error" ng-show="formmassGenerator.fiscalCode.$dirty" ng-message="required">É preciso um código fiscal para um clinte.</div>\r\n    </div>\r\n    <br>\r\n    <label class="form__label-description">Email</label>\r\n    <input type="email" name="email" ng-model="$ctrl.massGenerator.email" required class="form__field" placeholder="Email" autocomplete="off"\r\n        ng-class="{\'form__field--invalid\': formmassGenerator.email.$invalid && !formmassGenerator.email.$pristine && formmassGenerator.email.$touched}"><br>\r\n    <div ng-messages="formmassGenerator.email.$error" role="alert">\r\n        <div class="form__message form__message--error" ng-show="formmassGenerator.email.$dirty" ng-message="required">É preciso um email para o cliente.</div>\r\n        <div class="form__message form__message--error" ng-show="!formmassGenerator.email.$error.required && formmassGenerator.email.$touched"\r\n            ng-message="email">Email Inválido.</div>\r\n    </div>\r\n    <br>\r\n    <label class="form__label-description">Tipo Fiscal</label>\r\n    <select ng-options="option.value as option.description for option in $ctrl.fiscalTypes" ng-model="$ctrl.massGenerator.fiscalType"\r\n        class="form__field" name="fiscalType" required ng-class="{\'form__field--invalid\': formmassGenerator.fiscalType.$invalid && formmassGenerator.fiscalType.$dirty}"></select>\r\n    <div ng-messages="formmassGenerator.fiscalType.$error" role="alert">\r\n        <div ng-show="formmassGenerator.fiscalType.$invalid && formmassGenerator.fiscalType.$dirty" class="form__message form__message--error">O tipo é obrigatório</div>\r\n    </div>\r\n    <br>\r\n    <switch id="enabled" name="status" ng-model="$ctrl.massGenerator.isActivated" class="green"></switch>\r\n    <label class="form__label-description form__label-description--switch">{{ $ctrl.massGenerator.isActivated ? \'Ativo\' : \'Desativado\' }}</label>\r\n</form>'},282:function(e,t,r){"use strict";e.exports=function(e){var t=this,n=r(216);t.$onInit=function(){t.massGenerator=new n,t.fiscalTypes=r(217),t.getData=function(){return t.massGenerator},t.getForm=function(){return e.formmassGenerator}},this.$onChanges=function(e){e.massGenerator&&e.massGenerator.currentValue&&(t.massGenerator=angular.copy(e.massGenerator.currentValue))}},e.exports.$inject=["$scope"]},283:function(e,t,r){"use strict";e.exports={template:r(284),controller:r(285)}},284:function(e,t){e.exports='<div class="ndd-entity-editor__header">\r\n    <titlebar titlebar-title="$ctrl.massGenerator.name" titlebar-icon="\'fa fa-user\'">\r\n        <titlebar-info>\r\n            <titlebar-info-item titlebar-info-text="$ctrl.massGenerator.email" titlebar-info-icon="\'fa fa-envelope-o\'"> </titlebar-action-item>\r\n        </titlebar-info>\r\n        <titlebar-action>\r\n            <titlebar-action-item titlebar-action-text="\'Excluir\'" ng-click="$ctrl.remove()"  titlebar-action-icon="\'fa fa-trash\'"></titlebar-action-item>\r\n            <titlebar-action-item ui-sref="app.massGenerator.list" titlebar-action-icon="\'fa fa-close\'"></titlebar-action-item>        \r\n        </titlebar-action>\r\n    </titlebar>\r\n    <tabs-bar options="$ctrl.tabOptions"></tabs-bar>\r\n</div>\r\n<div class="ndd-entity-editor__content">\r\n    <ui-view></ui-view>\r\n</div>'},285:function(e,t,r){"use strict";e.exports=function(e,t,r,n,a,i,s){function o(){c.isLoading=!0,n.removemassGenerator(c.massGenerator.id).then(function(e){s.showDialog({title:"Operação realizada",messageText:"Cliente excluído com sucesso !",buttonConfirmText:"OK",hideCancel:!0},function(){r.go("app.massGenerator.list")})},function(){c.isLoading=!1,i.show({title:"Operação não realizada",messageText:"Erro ao realizar operação",buttonOk:"OK"})})}function l(){n.getById(t.id).then(d)}function d(r){c.massGenerator=r;var n={text:r.name,sref:"app.massGenerator.detail.dashboard",params:{id:t.id}};c.api={massGenerator:r,refresh:l},a.setOptions(e,"app.massGenerator",n)}var c=this;c.tabOptions=[{state:"app.massGenerator.detail.dashboard",text:"Dados Cadastrais"}],c.$onInit=function(){l()},this.redirectToDash=function(){r.go("app.massGenerator.detail.dashboard",{id:t.id,edit:!0})},this.remove=function(){s.showDialog({title:"Confirmação de Exclusão",messageText:"Deseja realmente excluir ? Essa operação não pode ser desfeita.",buttonConfirmText:"Remover",buttonCancelText:"Cancelar"},o)}},e.exports.$inject=["$scope","$stateParams","$state","massGeneratorService","breadcrumbService","nddAlert","nddConfirmDialogService"]},286:function(e,t,r){"use strict";e.exports={template:r(287),controller:r(288),bindings:{api:"<"}}},287:function(e,t,r){e.exports='<div class="ndd-entity-editor__form-content">\r\n    <div class="row" ng-if="!$ctrl.isEditing && !$ctrl.isLoading">\r\n        <div class="col-sm-6">\r\n            <h4 class="ndd-entity-editor__form-title">DADOS CADASTRAIS</h4>\r\n            <div class="col-sm-12 ndd-entity-editor__form-group">\r\n                <span class="ndd-entity-editor__form-label">Nome</span>\r\n                <br>\r\n                <span class="ndd-entity-editor__form-data" ng-bind="$ctrl.massGenerator.name"></span>\r\n            </div>\r\n            <div class="col-sm-6 ndd-entity-editor__form-group">\r\n                <span class="ndd-entity-editor__form-label">Identificação</span>\r\n                <br>\r\n                <span class="ndd-entity-editor__form-data" ng-bind="$ctrl.massGenerator.id"></span>\r\n            </div>\r\n            <div class="col-sm-6 ndd-entity-editor__form-group">\r\n                <span class="ndd-entity-editor__form-label">Email</span>\r\n                <br>\r\n                <span class="ndd-entity-editor__form-data" ng-bind="$ctrl.massGenerator.email"></span>\r\n            </div>\r\n            <div class="col-sm-6 ndd-entity-editor__form-group">\r\n                <span class="ndd-entity-editor__form-label">Ativo</span>\r\n                <br>\r\n                <span class="ndd-entity-editor__form-data" ng-bind="$ctrl.massGenerator.isActivated"></span>\r\n            </div>\r\n            <div class="col-sm-6 ndd-entity-editor__form-group">\r\n                <span class="ndd-entity-editor__form-label">Tipo Fiscal</span>\r\n                <br>\r\n                <span class="ndd-entity-editor__form-data" ng-bind="$ctrl.massGenerator.fiscalType"></span>\r\n            </div>\r\n            <div class="col-sm-6 ndd-entity-editor__form-group">\r\n                <span class="ndd-entity-editor__form-label">Código Fiscal</span>\r\n                <br>\r\n                <span class="ndd-entity-editor__form-data" ng-bind="$ctrl.massGenerator.fiscalCode"></span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="row" ng-show="$ctrl.isEditing && !$ctrl.isLoading">\r\n        <div class="col-sm-6">\r\n            <massGenerator-form massGenerator="$ctrl.massGenerator" get-data="$ctrl.formGetData" get-form="$ctrl.getForm"></massGenerator-form>\r\n        </div>\r\n    </div>\r\n    <img ng-if="$ctrl.isLoading" class="form-utils__spinner" src="'+r(196)+'" alt="">\r\n</div>\r\n<div class="ndd-entity-editor__form-footer">\r\n    <button ng-if="$ctrl.isEditing" ng-click="$ctrl.save()" class="ndd-button ndd-button--highlighted" type="button">Salvar</button>\r\n    <button ng-if="!$ctrl.isEditing" ng-click="$ctrl.edit()" class="ndd-button ndd-button--highlighted" type="button">Editar</button>\r\n    <button ng-click="$ctrl.cancel()" class="ndd-button" type="button">Cancelar</button>\r\n</div>'},288:function(e,t,r){"use strict";e.exports=function(e,t,n,a,i){function s(){o.isLoading=!1,i.show({title:"Operação não realizada",messageText:"Erro ao realizar operação",buttonOk:"OK"})}var o=this;o.isLoading=!0,this.$onInit=function(){o.fiscalTypes=r(217)},this.$onChanges=function(e){e.api&&e.api.currentValue&&(o.isLoading=!1,o.api=angular.copy(o.api),o.massGenerator=o.api.massGenerator)},this.edit=function(){o.isEditing=!0},this.cancel=function(){o.isEditing?o.isEditing=!1:t.go("app.massGenerator.list")},this.save=function(){var e=o.getForm();if(e.$invalid)return a.setDirty(e),void a.setTouched(e);var t=o.formGetData();o.isLoading=!0,n.editmassGenerator(t).then(function(){o.isLoading=!0,o.isEditing=!1,a.setPristine(e),o.api.refresh()},s)}},e.exports.$inject=["$scope","$state","massGeneratorService","formUtilsService","nddAlert"]}});